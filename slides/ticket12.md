# Билет №12
## СКВ. Определение, назначение, история развития (преимущества DVCS).

__Системы контроля версий__ — это программные системы, хранящие несколько версий одного документа, и позволяющие вернуться к более ранним версиям. Как правило, для каждого изменения запоминается дата модификации и автор.
 
## Локальные системы контроля версий

![](./pictures/local-vcs.png)

* До появления полноценных СКВ в качестве метода контроля версий применяется копирование файлов в отдельную директорию
    * возможно даже, директорию с отметкой по времени
* Данный подход очень распространён из-за его простоты
    * невероятно сильно подвержен появлению ошибок
        * можно легко забыть, в какой директории вы находитесь
        * случайно изменить не тот файл
        * скопировать не те файлы


Для решения этой проблемы были разработаны __локальные СКВ__ с простой базой данных, которая хранит записи о всех изменениях в файлах, осуществляя тем самым контроль ревизий.

Однако организация одновременной работы в локальных СКВ возможна лишь при __полной недоступности изменяемых файлов__ для других разработчков.

Пример локальной СКВ - __RCS__:

* на сегодняшний день  распространяется со многими компьютерами
    * Даже Mac OS X предоставляет команду rcs, после установки Developer Tools
* RCS хранит на диске наборы патчей (различий между файлами) в специальном формате, применяя которые она может воссоздавать состояние каждого файла в заданный момент времени.

## Централизованные системы контроля версий

![](./pictures/centralized-vcs.png)

* __Централизованные системы контроля версий__ (ЦСКВ) были разработаны для устранения проблемы взаимодействия с другими разработчиками во время разработки

* Такие системы, как: CVS, Subversion и Perforce, имеют единственный сервер, содержащий все версии файлов, и некоторое количество клиентов, которые получают файлы из этого централизованного хранилища
* ЦСКВ являлась стандартом на протяжении многих лет.

Организация одновременной работы: merge before commit

### Преимущества (в сравнении в ЛСКВ)

* все разработчики проекта в определённой степени знают, чем занимается каждый из них
* администраторы имеют полный контроль над тем, кто и что может делать

### Недостатки ЦСКВ
* вся история проекта хранится в одном месте
    * риск потерять всё
* единая точка отказа, представленная централизованным сервером
    * если сервер выйдет из строя, то в течение этого времени никто не сможет использовать контроль версий для сохранения изменений, над которыми он работает, а также никто не сможет обмениваться этими изменениями с другими разработчиками
* Если жёсткий диск, на котором хранится центральная БД, повреждён, а своевременные бэкапы отсутствуют, все данные теряются
    * не считая единичных снимков репозитория, которые сохранились на локальных машинах разработчиков.

## Децентрализованные системы контроля версий

![](./pictures/distributed-vcs.png)

* В ДСКВ (таких как Git, Mercurial, Bazaar или Darcs), клиенты не просто скачивают снимок всех файлов (состояние файлов на определённый момент времени): они полностью копируют репозиторий.
* если один из серверов, через который разработчики обменивались данными, умрёт, любой клиентский репозиторий может быть скопирован на другой сервер для продолжения работы.
* Каждая копия репозитория является полным бэкапом всех данных.
* многие ДСКВ могут одновременно взаимодействовать с несколькими удалёнными репозиториями
    * возможность работать с различными группами людей, применяя различные подходы единовременно, в рамках одного проекта
* позволяет применять сразу несколько подходов в разработке

### Преимущества

* Допускают локальную работу (коммиты без наличия интернет)
* Упрощают слияние (а значит параллельную разработку)
* Дают максимальную свободу по организации рабочего процесса (workflow)

## CMake. Назначение, возможности, плюсы и минусы.

__CMake__ (от англ. cross platform make) — это кроссплатформенная система автоматизации сборки программного обеспечения из исходного кода.

CMake не занимается непосредственно сборкой, a лишь генерирует файлы управления сборкой из файлов CMakeLists.txt.

### Достоинства

* Широкая поддержка разнообразных целевых платформ и IDE
* Максимальная свобода в выборе окружения разработки (в рамках одной команды!)
* В настоящий момент является стандартом де-факто для С++ проектов
* Дает членам команды максимальную свободу в выборе инструментов (OC, IDE или    простой текстовый редактор)
* Обеспечивает переносимость
* Поначалу инструмент кажется нетривиальным, но очень удобен впоследствии

### Недостатки

* Основной "недостаток" — собственный язык

### CMake Workflow

* Компиляция исходников при помощи компиляторов из Visual Studio, Qt Creator, Eclipse, XCode
    * .obj, .o
* Линковка финальных бинарных файлов компоновщиком (link.exe, ld, ...) 
    * .exe, .dll, .lib, .a, .so, .dylib
